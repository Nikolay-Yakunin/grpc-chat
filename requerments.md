# Требования 

1) Облегчить общение между людьми 
2) Большое количество поддерживаемых платформ
3) Отсутсвие больших затрат на содержание
4) Дать возможность создать комьюнити или обьединение людей
5) Централизованное решение
6) Дать возможность не отслеживаемового и не собирающего личные данные решения (кроме идентификаторов)

* KPI и метрики неуместны, мы реализуем решение, для самостоятельного размещения на серверах или селфхостинга.
* Предпологается, что этим решением, будут пользоваться небольшие группы людей, которые смогут независить от корпораций и больших мессенджеров.
* Поэтому это должно быть простым и не ресурсоемким решением. С возможными размерами от локальной сети, до небольщого городка (зависит от масштабирования).

# Функциональные требования

- *Аккаунт*: Запись с уникальным индентификатором, именем.
- *Принятие сообщений*: Процес принятия данных от другого пользователя.
- *Список контактов*: Текущие пользователи личных чатов пользователя.
- *Политика принятия сообщений*: Свойство аккаунта, которое определяет отношение к входящим сообщениям от пользователей, не из списка контактов. Имеет 3 состояния:
-- *Запрещенно*: С пользователем невозможно инициировать чат.
-- *С подтверждением*: Пользователю приходит сообщение о намерении другого пользователя начать чат. Если он разрещает, чат инициируется.
-- *Разрешенно*: С пользователем можно инициировать чат, без его подтверждения.
- *Закрытый аккаунт*: Аккаунт который не индексируется в поиске.
- *Открытый аккаунт*: Аккаунт который индексируется в поиске.
- *Видимость аккаунта*: Свойство аккаунта, по умолчанию в состоянии "закрытый", что будет соответвовать *Закрытый аккаунт*. Пользователь может изменить на "открытый", что будет соответвовать *Открытый аккаунт*.
- *Груповой чат*: Чат с бродкаст сообщениями всем учасникам группы. Чат можно создать или войти в него. В случае создания *группового чата*:
 - Пользователь являющийся создателем чата, может настраивать доступ остальных пользователей к нему (чату). Создавать пригласительные ссылки.
 В случае вступления в чат по ссылке:
 - Пользователь является участником чата, может посылать сообщения в чат, которые будут видны всем, может видеть сообщения других пользователей чата.

 В групповом чате, перед каждым сообщением, пишется имя участника.
- *Личный чат*: Чат между двумя пользователями.
- *История чата*: 
- *Сохранение истории (на сервере)*: Сервер сахраняет историю сообщений в базе данных, в зашифрованном, ключами на сервере, виде.
- *Сохранение истории (локально)*: У пользователя сахраняются сгенерированные ключи, и зашифрованные сообщения.

### Пользователь (User)
1) [ ] Возможность синхронной передачи сообщений между устройсвами в сети
2) [ ] Криптографическая стойкость шифрования сообщений
4) [ ] Возможность отказаться принять сообщение (см. *Политика принятия сообщений*)
5) [ ] Разделение груповых чатов и личных чатов
6) [ ] Настройка видимости своего аккаунта
7) [ ] Поиск открытых пользователей и груп
8) [ ] Возможность не сохранять и сохранять историю чата (локально и на сервере)

* Ввиду того, что история сообщений может сахраняться локально, функционал мутации уже отправленных сообщений или удаления их, не имеет смысла.

### Администратор (Admin)
1) [ ] Возможность настраивать доступ пользователей к серверу

# Технические требования

- Язык програмирования Go
- Протокол клиент-серверного взаимодействия: gRPC
- end-to-end шифрование между клиентами
- База-данных PostgreSQL
- База-данных Redis
- Локальное хранение историй чатов в файлах
- Микросервисная архитектура
- Покрытие тестами 80+ процентов
- Открытая лицензия

